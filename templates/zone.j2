{#
    The following variables are available:

    - nameservers   (list of dns.name.Name, nameservers)
    - devices       (list of Devices, with primary and management IPs)
    - oob_address   (use oob addresses rather than primary)
    - origin        (dns.name.Name, zone origin)
    - reverse_origin    (dns.name.Name, reverse zone origin)
    - serial        (zone serial)
    - refresh       (zone refresh)
    - retry         (zone retry)
    - expire        (zone expire)
    - ttl           (zone TTL)
    - timestamp
#}

;; Do not edit manually!
;; This file was generated by netbox-dns-zone at: {{ timestamp }}

$ORIGIN {{ origin }}
$TTL {{ ttl }}
{{ "%-39s" | format(origin | relativize) }} IN  SOA     {{ nameservers | first | relativize }} {{ "root" | relativize }} {{ serial }} {{ refresh }} {{ retry }} {{ expire }} {{ ttl }}
{{ "%-39s" | format(origin | relativize) }} IN  TXT     "generated-by=netbox-dns-zone"
{{ "%-39s" | format(origin | relativize) }} IN  TXT     "generated-at={{ timestamp }}"

{%- for nameserver in nameservers %}
{{ "%-39s" | format(origin | relativize) }} IN  NS      {{ nameserver | relativize }}
{%- endfor %}

{%- for device in devices %}
{%- if oob_address and device.oob_ip %}
{{ "%-39s" | format(device.name) }} IN  {{ "%-7s" | format(device.oob_ip | address_type ) }} {{ device.oob_ip | address }}
{%- else %}
{%- if device.primary_ip4 %}
{{ "%-39s" | format(device.name) }} IN  {{ "%-7s" | format(device.primary_ip4 | address_type ) }} {{ device.primary_ip4 | address }}
{%- endif -%}
{%- if device.primary_ip6 %}
{{ "%-39s" | format(device.name) }} IN  {{ "%-7s" | format(device.primary_ip6 | address_type ) }} {{ device.primary_ip6 | address }}
{%- endif %}
{%- endif %}
{%- endfor %}

{% for include in includes %}
;; BEGIN included file: {{ include.name }}
{{ include.read() -}}
;; END included file: {{ include.name }}
{% endfor %}
